/*! 
 * Bookmarklet to change the speed (or playback rate) of YouTube Videos
 * but it should work on any other website with HTML5 video tags
 * 
 * Copyright(c) 2012 Chris Cinelli 
 * MIT Licensed. 
 * 
 * @author: Chris Cinelli
 * 
 * http://github.com/chriscinelli/youtube-video-speed-change-bookmarlet
 * 
 */
(function(c,h){function i(){try{return"localStorage"in h&&null!==h.localStorage}catch(b){return!1}}function f(){var a=b.value;d.playbackRate=a/100;j=i()?localStorage[g]=a:a}var g="_yvscb_memory",j=100,d=c.querySelectorAll("video")[0];if(d)if(d.playbackRate){var e=c.querySelectorAll("body")[0],a=c.querySelectorAll("#_yvscb_control")[0];if(a)e.removeChild(a),d.playbackRate=1;else{a=c.createElement("div");a.setAttribute("id","_yvscb_control");a.innerHTML='<div style="font:12px monospace;position:fixed;left:2px;top:2px;z-index:9999;box-shadow:1px 1px 4px #666;background-color:#eee;border:1px solid #333;border-radius:3px;margin:2px;padding:2px"><button class="plus" style=";background-color:#eee;border:1px solid #333;border-radius:3px;margin:2px;padding:2px 3px">+</button><input type="text" style="border:0;background-color:#eee;width:2em; ">%<button class="minus" style=";background-color:#eee;border:1px solid #333;border-radius:3px;margin:2px;padding:2px 3px">-</button></div>';
e.appendChild(a);var b=c.querySelectorAll("#_yvscb_control input")[0];b.onchange=f;c.querySelectorAll("#_yvscb_control .minus")[0].onclick=function(){b.value=parseInt(b.value)-5;f()};c.querySelectorAll("#_yvscb_control .plus")[0].onclick=function(){b.value=parseInt(b.value)+5;f()};e=b;a=i()&&localStorage[g]?localStorage[g]:j;e.value=a;d.playbackRate=b.value/100}}else alert("This browser does not support changes of playback rate on HTML5 videos! Try Google Chrome!");else alert("This page does not have any HTML5 videos (this does not work with Flash videos)!")})(document,
window);